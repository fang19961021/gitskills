<!DOCTYPE html>
<html lang="en">
<head>
	<base href="<%=basePath%>">
	<meta charset="UTF-8">
	<title>计算器</title>
	<style>
		body{
			font: 30px "微软雅黑","黑体","sans-serif";
			color: #666;
    }
    *{
    	padding: 0px;
    	margin: 0px;
    }
    #cac{
    	width: 700px;
    	height: 550px;
    	background: #f2f2f2;
    	margin: 0 auto;
    	padding: 10px;
    	border: 10px solid #1e73be;

    }
    .s_text{
    	width: 680px;
    	height: 42px;
    	border: none;
    	line-height: 42px;
    	text-align: right;
    	padding-right: 20px;
    	font-size: 34px;
    	color: #9e9e9e;
    }
    #cac h2{
    	font-size: 16px;
    	color: #000;
    	font-weight: 500;
    	padding: 12px 0px 12px 20px;
    }
    .c_key ul{
    	border: 3px solid #fff;
    	margin: 10px auto;
    }    
 
    .btn {
    width: 140px;
    height: 67px;
    font-size: x-large;
    position: relative;
    top:-4px;
}
    .btn_click{
    width: 140px;
    height: 67px;
    font-size: x-large;
    position: relative;
    top:-4px;
    color: #f90
    }
    .c_key ul li{
    	float: left;
    	width: 140px;
    	height: 65px;
    	background: #eaeaea;
    	margin: 11px;
    	text-align: center;
    	line-height: 65px;
    	font-size: 32px;
    	list-style: none;
    	border: 1px solid #60c7d2;
         border-spacing: 0px;
         position: relative;
    }



	</style>
</head>
<body>
	<div id="cac">
		<h2>计算器</h2>
		<input type="txt" class="s_text" onfocus="this.blur();"id ="result"  disabled>
		<div class="c_key">
			<ul> 
				<li><input type="button" class="btn_click" value="AC"></li>
				<li><input type="button" class="btn_click" value="DEL"></li>
				<li><input type="button" class="btn" value="%"></li>
				<li><input type="button" class="btn" value="/"></li>
				<li><input type="button" class="btn" value="7"></li>
				<li><input type="button" class="btn" value="8"></li>
				<li><input type="button" class="btn" value="9"></li>
				<li><input type="button" class="btn" value="*"></li>
				<li><input type="button" class="btn" value="4"></li>
				<li><input type="button" class="btn" value="5"></li>
				<li><input type="button" class="btn" value="6"></li>
				<li><input type="button" class="btn" value="-"></li>
				<li><input type="button" class="btn" value="1"></li>
				<li><input type="button" class="btn" value="2"></li>
				<li><input type="button" class="btn" value="3"></li>
				<li><input type="button" class="btn" value="+"></li>
				<li><input type="button" class="btn" value="0"></li>
				<li><input type="button" class="btn" value="00"></li>
				<li><input type="button" class="btn" value="."></li>
				<li><input type="button" class="btn" value="="></li>
			</ul>
	</div>
</div>	
</body>
<script>
    window.onload = function(){
    var way_res = [];
    var btns = document.getElementsByClassName("btn");
    var txt = document.getElementsByClassName("s_text")[0];
    var btn = document.getElementsByClassName("btn_click");
    for(var i=0 ;i < btns.length ; i++){
        btns[i].onclick = function(){
            if(txt.value == "" && this.value =="."){
                txt.value = "0."
            }
            if(!isNaN(this.value) || this.value == "."){
                if(txt.value.indexOf(".") != -1){
                    if(txt.value !="."){
                        txt.value += this.value;
                    }
                }
                else{
                    txt.value += this.value;
                }

            }else{
                if(this.value !="="){
                    way_res[way_res.length] = txt.value;
                    way_res[way_res.length] = this.value;
                    txt.value = "";
                }
                else{
                    way_res[way_res.length] = txt.value;
                    txt.value = eval(way_res.join(""));
                    way_res = [];
                }

            }
        }
    }
    for( var i=0; i<btn.length; i++){
        btn[i].onclick = function(){
            if(this.value == "AC"){
                way_res = [];
                txt.value = "";
            }
            else{
                txt.value = txt.value.substr(0,txt.value.length -1)
            }
        }
    }
 }   
</script>
</html>